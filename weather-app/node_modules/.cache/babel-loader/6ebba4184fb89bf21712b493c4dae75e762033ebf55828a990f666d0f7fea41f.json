{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faSun,faMoon,faSyncAlt}from\"@fortawesome/free-solid-svg-icons\";import styles from\"./style.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const apiKey=\"1da550247f2ed8a45a02dda55086b7a2\";export default function WeatherApp(){var _weatherData$rain;const[city,setCity]=useState(\"\");const[weatherData,setWeatherData]=useState(null);useEffect(()=>{const storedCity=localStorage.getItem(\"userCity\");const storedWeatherData=localStorage.getItem(\"weatherData\");if(storedCity&&storedWeatherData){setCity(storedCity);setWeatherData(JSON.parse(storedWeatherData));}},[]);const handleSubmit=e=>{e.preventDefault();getWeatherData();};const getWeatherData=()=>{axios.get(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(city,\"&appid=\").concat(apiKey,\"&units=metric\")).then(response=>{const weatherData=response.data;setWeatherData(weatherData);localStorage.setItem(\"userCity\",city);localStorage.setItem(\"weatherData\",JSON.stringify(weatherData));}).catch(error=>{console.error(\"Error:\",error);});};const refreshWeather=()=>{getWeatherData();};const isDay=(sunriseTimestamp,sunsetTimestamp)=>{const now=Date.now()/1000;return now>=sunriseTimestamp&&now<sunsetTimestamp;};return/*#__PURE__*/_jsx(\"div\",{className:styles.wrapper,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.mainContainer,children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Skycast Weather App\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cityInput\",children:\"Enter City:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"cityInput\",value:city,onChange:e=>setCity(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Get Weather\"}),/*#__PURE__*/_jsx(\"span\",{id:\"refreshIcon\",onClick:refreshWeather,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSyncAlt,spin:true})})]}),weatherData&&/*#__PURE__*/_jsxs(\"div\",{id:\"weatherData\",className:styles.weatherData,children:[/*#__PURE__*/_jsxs(\"p\",{children:[weatherData.main.temp.toFixed(1),\"\\xB0C temperature from\",\" \",weatherData.main.temp_min.toFixed(1),\" to\",\" \",weatherData.main.temp_max.toFixed(1),\"\\xB0C\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Weather: \",weatherData.weather[0].description]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Rain Amount: \",((((_weatherData$rain=weatherData.rain)===null||_weatherData$rain===void 0?void 0:_weatherData$rain[\"1h\"])||0)*100).toFixed(0),\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Humidity: \",weatherData.main.humidity,\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Wind:\",\" \",(weatherData.wind.speed*3.6).toFixed(2),\" km/h\"]}),/*#__PURE__*/_jsx(\"p\",{children:isDay(weatherData.sys.sunrise,weatherData.sys.sunset)?/*#__PURE__*/_jsxs(_Fragment,{children:[\"Day \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSun})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[\"Night \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faMoon})]})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Date: \",new Date().toDateString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Time: \",new Date().toLocaleTimeString()]})]})]})});};","map":{"version":3,"names":["React","useState","useEffect","axios","FontAwesomeIcon","faSun","faMoon","faSyncAlt","styles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","apiKey","WeatherApp","_weatherData$rain","city","setCity","weatherData","setWeatherData","storedCity","localStorage","getItem","storedWeatherData","JSON","parse","handleSubmit","e","preventDefault","getWeatherData","get","concat","then","response","data","setItem","stringify","catch","error","console","refreshWeather","isDay","sunriseTimestamp","sunsetTimestamp","now","Date","className","wrapper","children","mainContainer","onSubmit","htmlFor","type","id","value","onChange","target","required","onClick","icon","spin","main","temp","toFixed","temp_min","temp_max","weather","description","rain","humidity","wind","speed","sys","sunrise","sunset","toDateString","toLocaleTimeString"],"sources":["C:/Users/PC/Desktop/myreactproject/weatherapp/weather-app/src/components/WeatherApp.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSun, faMoon, faSyncAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport styles  from \"./style.module.css\";\r\n\r\nconst apiKey = \"1da550247f2ed8a45a02dda55086b7a2\";\r\n\r\nexport default function WeatherApp() {\r\n  const [city, setCity] = useState(\"\");\r\n  const [weatherData, setWeatherData] = useState(null);\r\n\r\n\r\n  useEffect(() => {\r\n    const storedCity = localStorage.getItem(\"userCity\");\r\n    const storedWeatherData = localStorage.getItem(\"weatherData\");\r\n\r\n    if (storedCity && storedWeatherData) {\r\n      setCity(storedCity);\r\n      setWeatherData(JSON.parse(storedWeatherData));\r\n    }\r\n  }, []);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    getWeatherData();\r\n  };\r\n\r\n  const getWeatherData = () => {\r\n    axios\r\n      .get(\r\n        `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`\r\n      )\r\n      .then((response) => {\r\n        const weatherData = response.data;\r\n        setWeatherData(weatherData);\r\n        localStorage.setItem(\"userCity\", city);\r\n        localStorage.setItem(\"weatherData\", JSON.stringify(weatherData));\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error:\", error);\r\n      });\r\n  };\r\n\r\n  const refreshWeather = () => {\r\n    getWeatherData();\r\n  };\r\n\r\n  const isDay = (sunriseTimestamp, sunsetTimestamp) => {\r\n    const now = Date.now() / 1000;\r\n    return now >= sunriseTimestamp && now < sunsetTimestamp;\r\n  };\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <div className={styles.mainContainer}>\r\n        <form onSubmit={handleSubmit}>\r\n          <h1>Skycast Weather App</h1>\r\n          <label htmlFor=\"cityInput\">Enter City:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"cityInput\"\r\n            value={city}\r\n            onChange={(e) => setCity(e.target.value)}\r\n            required\r\n          />\r\n          <button type=\"submit\">Get Weather</button>\r\n          <span id=\"refreshIcon\" onClick={refreshWeather}>\r\n            <FontAwesomeIcon icon={faSyncAlt} spin />\r\n          </span>\r\n        </form>\r\n        {weatherData && (\r\n          <div id=\"weatherData\" className={styles.weatherData}>\r\n            <p>\r\n              {weatherData.main.temp.toFixed(1)}°C temperature from{\" \"}\r\n              {weatherData.main.temp_min.toFixed(1)} to{\" \"}\r\n              {weatherData.main.temp_max.toFixed(1)}°C\r\n            </p>\r\n            <p>Weather: {weatherData.weather[0].description}</p>\r\n            {/* <p>Rain Amount: {weatherData.rain?.[\"1h\"] || 0} %</p> */}\r\n            <p>Rain Amount: {((weatherData.rain?.[\"1h\"] || 0) * 100).toFixed(0)}%</p>\r\n            <p>Humidity: {weatherData.main.humidity}%</p>\r\n            <p>\r\n              Wind:{\" \"}\r\n              {(weatherData.wind.speed * 3.6).toFixed(2)} km/h\r\n            </p>\r\n            <p>\r\n              {isDay(weatherData.sys.sunrise, weatherData.sys.sunset) ? (\r\n                <>\r\n                  Day <FontAwesomeIcon icon={faSun} />\r\n                </>\r\n              ) : (\r\n                <>\r\n                  Night <FontAwesomeIcon icon={faMoon} />\r\n                </>\r\n              )}\r\n            </p>\r\n            <p>Date: {new Date().toDateString()}</p>\r\n            <p>\r\n              Time: {new Date().toLocaleTimeString()}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}